{% extends 'layout.html' %}
{% block body %}
    <h2>Memes</h2>
    <div class="memes{% if memes %} js-masonry{% endif %}">
        {% if memes %}
            {% for meme in memes %}
                <div class="meme">
                    {% if request.path == '/' %}
                        {# Top memes #}
                        <img class="lazy" src="{{ meme.link[::-1].replace('.', '.s', 1)[::-1] }}" alt="{{ meme.title }}" title="{{ meme.title }}" />
                        <a href="{{ url_for('save_meme', img_id=meme.id) }}">
                        </a>
                    {% else %}
                        {# Saved memes #}
                        <img class="lazy" src="{{ url_for('static', filename=meme.id) }}" alt="{{ meme.title }}" title="{{ meme.title }}" />
                    {% endif %}
                </div>
            {% endfor %}
        {% else %}
            <p class="no-meme">
                No memes or connection lost.
            </p>
        {% endif %}
    </div>
{% endblock %}
